# =============================================================================
# LDB-DataGuard Environment Configuration
# =============================================================================
# Copy this file to .env.local for development or .env for production
# All values marked with [REQUIRED] must be set before running the application
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
NODE_ENV=development
APP_URL=http://localhost:3000
TZ=Europe/Berlin

# -----------------------------------------------------------------------------
# Database (PostgreSQL) [REQUIRED]
# -----------------------------------------------------------------------------
DB_USER=ldb
DB_PASSWORD=ldb_password
DB_NAME=ldb_dataguard
DB_HOST=localhost
DB_PORT=5432
DATABASE_URL="postgresql://${DB_USER}:${DB_PASSWORD}@${DB_HOST}:${DB_PORT}/${DB_NAME}?schema=public"

# -----------------------------------------------------------------------------
# Redis [REQUIRED]
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# Authentication (NextAuth.js) [REQUIRED]
# -----------------------------------------------------------------------------
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=your-nextauth-secret-change-this-in-production
NEXTAUTH_URL=http://localhost:3000

# Optional: OAuth Providers
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=
# GITHUB_ID=
# GITHUB_SECRET=

# -----------------------------------------------------------------------------
# OpenAI / LLM API [REQUIRED for AI features]
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0

# -----------------------------------------------------------------------------
# Google Places API [REQUIRED for Maps integration]
# -----------------------------------------------------------------------------
GOOGLE_PLACES_API_KEY=your-google-places-api-key

# -----------------------------------------------------------------------------
# Email (SMTP) [REQUIRED for notifications]
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-smtp-user
SMTP_PASSWORD=your-smtp-password
SMTP_FROM="LDB-DataGuard <noreply@example.com>"

# -----------------------------------------------------------------------------
# Worker Configuration
# -----------------------------------------------------------------------------
WORKER_CONCURRENCY=5
WORKER_REPLICAS=1
SCRAPER_RATE_LIMIT_MS=1000
SCRAPER_MAX_DEPTH=3

# -----------------------------------------------------------------------------
# Monitoring
# -----------------------------------------------------------------------------
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_ROOT_URL=http://localhost:3001
GRAFANA_SECRET_KEY=your-grafana-secret-key

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
AUTH_RATE_LIMIT_MAX=5

# -----------------------------------------------------------------------------
# Data Retention (days)
# -----------------------------------------------------------------------------
RETENTION_AUDIT_LOGS=365
RETENTION_EXTRACTED_VALUES=90
RETENTION_FAILED_JOBS=30
RETENTION_RAW_HTML=7

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
FEATURE_2FA_ENABLED=false
FEATURE_GOOGLE_OAUTH=false
FEATURE_GITHUB_OAUTH=false
FEATURE_PDF_REPORTS=true
FEATURE_COST_TRACKING=true

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=info
LOG_FORMAT=pretty
